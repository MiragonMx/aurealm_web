{{ if .Site.IsMultiLingual }}
<div id="language-switch" class="dropdown">
  <a href="#" class="btn dropdown-toggle" data-bs-toggle="dropdown" role="button" id="lang-switch-dropdown-link" aria-haspopup="true" aria-expanded="false">
    {{ .Language.LanguageName }}
  </a>

  <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuLink">
    {{ $siteLanguages := .Site.Languages}}
    {{ $pageLang := .Page.Lang}}
    {{ range .Page.AllTranslations }}
      {{ $translation := . }}
      {{ range $siteLanguages }}
        {{ if eq $translation.Lang .Lang }}
          {{ $selected := false }}
          {{ if eq $pageLang .Lang}}
            <li>
              <a href="{{ $translation.RelPermalink }}" class="dropdown-item active">
                {{ .LanguageName }}
              </a>
            </li>
          {{ else }}
            <li>
              <a href="{{ $translation.RelPermalink }}" class="dropdown-item">
                {{ .LanguageName }}
              </a>
            </li>
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}
  </ul>
</div>
{{ end }}
